import{j as s,a as u,_ as m}from"./index-DzFTzqep.js";import{u as h,P as p}from"./index-LT5XDTda.js";import{u as g,L as o}from"./FileUpload-CMRBSTko.js";import{c as x,a as t,b as P,F as f,R as d}from"./RHFTextField-ULo9VoIO.js";import{o as y}from"./yup-D19j4VjN.js";import{B as j}from"./ButtonLoading-B5jyLbfo.js";import{d as b}from"./router-Bu5b4_LN.js";import"./input-LOfDfmzW.js";import{d as N}from"./card-vjQ_fyAq.js";import"./axios-DmypytPv.js";import"./select-DYnYkhYb.js";const v=x().shape({currentPassword:t().required("Current Password is required"),newPassword:t().required("New Password is required"),confirmPassword:t().oneOf([P("newPassword")],"Passwords must match").required("Confirm Password is required")}),M=()=>{const c=h({}),l=b(),e=g({resolver:y(v)}),w=async a=>{var i,n;try{const r=await c.mutateAsync({api:u.changePassword,data:{currentPassword:a.currentPassword,newPassword:a.newPassword,confirmPassword:a.confirmPassword}});(i=r.data)!=null&&i.success?(m.success((n=r==null?void 0:r.data)==null?void 0:n.message),l("/grievance/auth/login")):m.error("Password not changed"),e.reset({currentPassword:"",newPassword:"",confirmPassword:""})}catch{}};return s.jsx(p,{title:"Change Password",className:"bg-gray-100",children:s.jsx("section",{className:"relative flex w-full justify-center items-center   dark:bg-gray-900",children:s.jsxs("div",{className:"w-full max-w-md px-4 py-8 bg-white rounded-lg shadow-md dark:bg-gray-800",children:[s.jsx("h1",{className:"text-2xl text-center font-semibold text-gray-800 capitalize dark:text-white mb-2",children:s.jsx("span",{className:"",children:"Change Password"})}),s.jsx(N,{className:"px-2 text-center text-sm text-gray-500 dark:text-gray-400",children:"Easily change your password"}),s.jsx(f,{methods:e,onSubmit:e.handleSubmit(w),children:s.jsxs("div",{className:"space-y-6 mt-6",children:[s.jsxs("div",{children:[s.jsx(o,{htmlFor:"currentPassword",children:"Old Password"}),s.jsx(d,{className:"bg-gray-100 dark:bg-gray-700 mt-1 w-full rounded-md shadow-sm",name:"currentPassword",type:"password",placeholder:"Enter old password"})]}),s.jsxs("div",{children:[s.jsx(o,{htmlFor:"newPassword",children:"New Password"}),s.jsx(d,{className:"bg-gray-100 dark:bg-gray-700 mt-1 w-full rounded-md shadow-sm",name:"newPassword",type:"password",placeholder:"Enter new password"})]}),s.jsxs("div",{children:[s.jsx(o,{htmlFor:"confirmPassword",children:"Confirm Password"}),s.jsx(d,{className:"bg-gray-100 dark:bg-gray-700 mt-1 w-full rounded-md shadow-sm",name:"confirmPassword",type:"password",placeholder:"Confirm new password"})]}),s.jsx("div",{className:"flex justify-end",children:s.jsx(j,{isLoading:e.formState.isSubmitting,type:"submit",className:"w-full bg-primary text-white py-2 rounded-md ",children:"Submit"})})]})})]})})})};export{M as default};
